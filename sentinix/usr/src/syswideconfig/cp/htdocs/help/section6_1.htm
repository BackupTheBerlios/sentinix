<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">

<html>
<head>
	<title>Cacti Manual</title>
	<link href="main.css" rel="stylesheet">
</style>
</head>

<body>

<table bgcolor="#d5d5d5" width="100%">
	<tr>
		<td align="left">
			<strong><a href="section5.htm">&lt;&lt; Previous Section</a></strong>
		</td>
		<td align="center">
			Altering Graphs on the Fly <strong>[<a href="index.htm">home</a>]</strong>
		</td>
		<td align="right">
			<strong><a href="section7.htm">Next Section &gt;&gt;</a></strong>
		</td>
	</tr>
</table>

<br>

<span class="textPageHeader">CDEFs</span>

<p>CDEFs allow you to apply mathematical functions to graph data to alter output. The concept of a CDEF comes straight from
RRDTool, and are written in reverse polish notation (RPN). For more information regarding the syntax of CDEFs, check out the
<a href="http://people.ee.ethz.ch/~oetiker/webtools/rrdtool/tutorial/cdeftutorial.html">CDEF tutorial</a>. To create a new CDEF
in Cacti, select the "CDEFs" option under the "Graph Setup" heading. Once on that screen, click "Add" on the right. You will
be presented with a few fields to populate:</p>

<table class="field" cellspacing="0">
	<tr class="fieldOne">
		<td class="fieldName" width="150">
			Name
		</td>
		<td class="fieldDescription">
			Give the CDEF a name that you can use to identify it throughout Cacti. You will most commonly see this
			name in the graph item edit screen, where you can choose to apply a CDEF to the graph item.
		</td>
	</tr>
</table>

<p>When you are finished, click the "Create" button and you will see a new "CDEF Items" box. Each CDEF must contain one or more
items to be functional. To add the first item to your CDEF, click "Add" at the right of the "CDEF Items" box. You will be
presented with a few fields described below of which <strong>you must only fill in one</strong>.</p>

<table class="field" cellspacing="0">
	<tr class="fieldOne">
		<td class="fieldName" width="150">
			Function
		</td>
		<td class="fieldDescription">
			You can choose a CDEF function to use as the item. The 
			<a href="http://people.ee.ethz.ch/~oetiker/webtools/rrdtool/manual/rrdgraph.html">RRDTool graph manual</a> 
			describes the purpose of each CDEF function.
		</td>
	</tr>
	<tr class="fieldTwo">
		<td class="fieldName" width="150">
			Operator
		</td>
		<td class="fieldDescription">
			Just your standard math operators, including modulo (%).
		</td>
	</tr>
	<tr class="fieldOne">
		<td class="fieldName" width="150">
			Special Data Source
		</td>
		<td class="fieldDescription">
			A special data source is basically a flag to tell Cacti to do some special processing when it encounters
			this CDEF item. The "Current Graph Item Data Source" type basically inserts the name of the data source
			that is referenced by the graph item that references to this CDEF. Both of the "All Data Sources" types
			insert a summation of all data sources used on a graph.
		</td>
	</tr>
	<tr class="fieldTwo">
		<td class="fieldName" width="150">
			Another CDEF
		</td>
		<td class="fieldDescription">
			You can recursively use another CDEF within this CDEF.
		</td>
	</tr>
	<tr class="fieldOne">
		<td class="fieldName" width="150">
			Custom String
		</td>
		<td class="fieldDescription">
			Sometimes it's just easier to type out the literal CDEF string manually. When referencing to data sources
			on the graph, remember that Cacti names them 'a', 'b', 'c', '...', starting with the first data source
			on the graph.
		</td>
	</tr>
</table>

<p>When you are finished filling out a field for the CDEF item, click "Create" to add it to your CDEF. You can continue to add
new CDEF items until the CDEF is complete. You can now apply this to CDEF to a graph item.</p>

</body>
</html>
